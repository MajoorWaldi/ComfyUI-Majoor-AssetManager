# ComfyUI Majoor Assets Manager - Environment Variables Configuration
# Copy this file to .env and customize as needed

# ============================================================================
# SCANNING & CACHING
# ============================================================================

# Minimum interval (seconds) between folder scans to prevent excessive disk I/O
# Default: 5.0
#MJR_SCAN_MIN_INTERVAL=5.0

# Interval (seconds) for checking if folder contents changed
# Default: 2.0
#MJR_FOLDER_CHECK_INTERVAL=2.0

# Number of metadata items to prefetch on first page load
# Higher values = more upfront loading, but better UX
# Default: 80
#MJR_META_PREFETCH_COUNT=80

# Maximum size of metadata LRU cache (number of entries)
# Higher values = more memory usage, but fewer disk reads
# Default: 1000
#MJR_META_CACHE_SIZE=1000

# ============================================================================
# BATCH OPERATIONS
# ============================================================================

# Maximum number of items allowed in batch operations (delete, metadata fetch, zip)
# Prevents DoS attacks and memory exhaustion
# Default: 1000
#MJR_MAX_BATCH_SIZE=1000

# Number of worker threads for parallel metadata batch fetching
# Higher values = faster batch operations, but more CPU/disk usage
# Default: 4
#MJR_META_BATCH_WORKERS=4

# ============================================================================
# EXTERNAL TOOLS TIMEOUTS
# ============================================================================

# Timeout (seconds) for ExifTool metadata read operations
# Prevents hanging on corrupted files
# Default: 12.0, Range: 1.0-60.0
#MJR_META_EXIFTOOL_TIMEOUT=12.0

# Timeout (seconds) for ExifTool read operations (alternative name)
# Default: 15.0, Range: 1.0-60.0
#MJR_EXIFTOOL_READ_TIMEOUT=15.0

# Timeout (seconds) for ExifTool write operations
# Writing metadata can be slower than reading
# Default: 30.0, Range: 1.0-60.0
#MJR_EXIFTOOL_WRITE_TIMEOUT=30.0

# Timeout (seconds) for ffprobe video metadata extraction
# Default: 8.0, Range: 1.0-30.0
#MJR_META_FFPROBE_TIMEOUT=8.0

# Timeout (seconds) for opening file manager (explorer, nautilus, etc.)
# Default: 15.0
#MJR_FILE_MANAGER_TIMEOUT=15.0

# ============================================================================
# METADATA STORAGE
# ============================================================================

# Enable JSON sidecar files (.mjr.json) for metadata storage
# On Windows: Default is 'false' (uses Windows Property System)
# On Linux/Mac: Default is 'true' (JSON is the only option)
# Values: 0/false/no/off or 1/true/yes/on
#MJR_ENABLE_SIDECAR=false

# Force JSON sidecar usage even on Windows
# Useful for cross-platform compatibility
# Default: false
#MJR_FORCE_SIDECAR=false

# Automatically apply default metadata to newly generated files
# Helps organize outputs from generation workflows
# Default: false
#MJR_PRIME_METADATA=false

# ============================================================================
# VIDEO METADATA CACHE
# ============================================================================

# Maximum number of cached video metadata entries
# Video metadata extraction is expensive, caching improves performance
# Default: 200
#MJR_VIDEO_META_CACHE_SIZE=200

# Time-to-live (seconds) for video metadata cache entries
# Older entries are invalidated and re-fetched
# Default: 300 (5 minutes)
#MJR_VIDEO_META_CACHE_TTL=300

# ============================================================================
# LOGGING
# ============================================================================

# Log file path (absolute or relative to extension directory)
# Default: None (logs to stderr)
#MJR_LOG_FILE=majoor_assets_manager.log

# Logging level
# Values: DEBUG, INFO, WARNING, ERROR, CRITICAL
# Default: INFO
#MJR_LOG_LEVEL=INFO

# ============================================================================
# NOTES
# ============================================================================

# - All timeout values are clamped to safe ranges to prevent hanging
# - Changes to environment variables require restarting ComfyUI
# - For production use, increase MJR_META_CACHE_SIZE if you have many files
# - On Windows, Windows Property System is recommended for metadata storage
#   (faster and integrates with File Explorer)
# - On Linux/Mac, JSON sidecars are the only option
